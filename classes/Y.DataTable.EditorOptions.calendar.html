<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Y.DataTable.EditorOptions.calendar</title>
    <link rel="stylesheet" href="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;3.5.1&#x2F;build&#x2F;cssgrids&#x2F;cssgrids-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="..&#x2F;assets/css/main.css" id="site_styles">
    <link rel="shortcut icon" type="image/png" href="..&#x2F;assets/favicon.png">
    <script src="http:&#x2F;&#x2F;yui.yahooapis.com&#x2F;combo?3.5.1&#x2F;build&#x2F;yui&#x2F;yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
            
                <h1><img src="..&#x2F;assets/css/logo.png" title=""></h1>
            
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: </em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
    <h2 class="off-left">APIs</h2>
    <div id="api-tabview" class="tabview">
        <ul class="tabs">
            <li><a href="#api-classes">Classes</a></li>
            <li><a href="#api-modules">Modules</a></li>
        </ul>

        <div id="api-tabview-filter">
            <input type="search" id="api-filter" placeholder="Type to filter APIs">
        </div>

        <div id="api-tabview-panel">
            <ul id="api-classes" class="apis classes">
            
                <li><a href="..&#x2F;classes/Y.Calendar.JumpNavView.html">Y.Calendar.JumpNavView</a></li>
            
                <li><a href="..&#x2F;classes/Y.ContextMenuView.html">Y.ContextMenuView</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.BaseCellInlineEditor.html">Y.DataTable.BaseCellInlineEditor</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.BaseCellPopupEditor.html">Y.DataTable.BaseCellPopupEditor</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.CheckboxSelect.html">Y.DataTable.CheckboxSelect</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.Editable.html">Y.DataTable.Editable</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.html">Y.DataTable.EditorOptions</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.autocomplete.html">Y.DataTable.EditorOptions.autocomplete</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.calendar.html">Y.DataTable.EditorOptions.calendar</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.checkbox.html">Y.DataTable.EditorOptions.checkbox</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.date.html">Y.DataTable.EditorOptions.date</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.dropdown.html">Y.DataTable.EditorOptions.dropdown</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.inline.html">Y.DataTable.EditorOptions.inline</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.inlineAC.html">Y.DataTable.EditorOptions.inlineAC</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.inlineDate.html">Y.DataTable.EditorOptions.inlineDate</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.inlineNumber.html">Y.DataTable.EditorOptions.inlineNumber</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.number.html">Y.DataTable.EditorOptions.number</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.radio.html">Y.DataTable.EditorOptions.radio</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.text.html">Y.DataTable.EditorOptions.text</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.EditorOptions.textarea.html">Y.DataTable.EditorOptions.textarea</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.Formatters.html">Y.DataTable.Formatters</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.Paginator.html">Y.DataTable.Paginator</a></li>
            
                <li><a href="..&#x2F;classes/Y.DataTable.Selection.html">Y.DataTable.Selection</a></li>
            
                <li><a href="..&#x2F;classes/Y.FooterView.html">Y.FooterView</a></li>
            
                <li><a href="..&#x2F;classes/Y.PaginatorModel.html">Y.PaginatorModel</a></li>
            
                <li><a href="..&#x2F;classes/Y.PaginatorView.html">Y.PaginatorView</a></li>
            
                <li><a href="..&#x2F;classes/Y.Plugin.Calendar.JumpNav.html">Y.Plugin.Calendar.JumpNav</a></li>
            
            </ul>

            <ul id="api-modules" class="apis modules">
            
                <li><a href="..&#x2F;modules/contextmenu.html">contextmenu</a></li>
            
                <li><a href="..&#x2F;modules/datatable.html">datatable</a></li>
            
                <li><a href="..&#x2F;modules/DataTable.html">DataTable</a></li>
            
                <li><a href="..&#x2F;modules/FooterView.html">FooterView</a></li>
            
                <li><a href="..&#x2F;modules/formatters.html">formatters</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-celleditor-inline.html">gallery-datatable-celleditor-inline</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-celleditor-popup.html">gallery-datatable-celleditor-popup</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-editable.html">gallery-datatable-editable</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-paginator.html">gallery-datatable-paginator</a></li>
            
                <li><a href="..&#x2F;modules/gallery-datatable-selection.html">gallery-datatable-selection</a></li>
            
                <li><a href="..&#x2F;modules/gallery-paginator-view.html">gallery-paginator-view</a></li>
            
                <li><a href="..&#x2F;modules/Selection.html">Selection</a></li>
            
            </ul>
        </div>
    </div>
</div>

            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
        Show:
        <label for="api-show-inherited">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </div>


            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <h1>Y.DataTable.EditorOptions.calendar Class</h1>
<div class="box meta">
    

    

    
        <div class="foundat">
            Defined in: <a href="..&#x2F;files&#x2F;gallery-js_datatable-celleditor-popup.js.html#l1678"><code>gallery-js&#x2F;datatable-celleditor-popup.js:1678</code></a>
        </div>
    

    
        
            Module: <a href="../modules/gallery-datatable-celleditor-popup.html">gallery-datatable-celleditor-popup</a>
        
    

    
        <p>Available since 3.8.0</p>
    
</div>



<div class="box intro">
    <h3>Popup Cell Editor "calendar"</h3>

<p>This View configuration is used to setup an editor View as a "calendar" popup cell editor that
includes a Y.Calendar widget incorporated within the View container.</p>

<h5>Basic Usage</h5>

<pre class="code"><code class="prettyprint">   // Column definition
   { key:'startDate', editor:"calendar" }

   // Column definition ...
   { key:'birthdate', label:'Employee DOB', formatter:"shortDate",
     editor:"calendar", editorConfig:{
        inputKeys:false,
     }
   }
</code></pre>

<h5>Standard Configuration</h5>

<p>This editor includes (a) an INPUT[text] and (b) Y.Calendar widget instance all within the same Overlay content.</p>

<p><em>Configuration for this View is considerably more complex compared to other Views, requiring additional functions
and listener functions to setup the Y.Calendar widget and to account for widget actions and events.</em></p>

<p>The configuration {Object} for this cell editor View is predefined as;</p>

<pre class="code"><code class="prettyprint">   Y.DataTable.EditorOptions.calendar = {
       BaseViewClass:  Y.DataTable.BaseCellPopupEditor,
       name:           'calendar',
       inputKeys:      true,

       templateObject: {
           html: 'Enter Date: &amp;nbsp; &lt;input type="text" title="inline cell editor" class="&lt;%= this.classInput %&gt;"  /&gt;'
               + '&lt;br/&gt;&lt;div class="yui3-dt-editor-calendar"&gt;&lt;/div&gt;'
       },

       // setup two buttons "Save" and "Cancel" for the containing overlay
       overlayConfig:{
           buttons:   [
               { name:'save', value: 'Save',
                   action:function(){
                       var val = (this._inputNode) ? this._inputNode.get('value') : null;
                       this.saveEditor(val);
                   }
               },
               { name:'cancel', value: 'Cancel',
                   action:function(){ this.cancelEditor(); }
               }
           ]
       },

       inputWidth: 75,   // set the INPUT[type=text] field width in the Overlay

       // only allow keyboard input of digits or '/' or '-' within the editor ...
       keyFiltering:   /\/|\d|\-/,

       // Function to call prior to displaying editor, to put a human-readable Date into
       //  the INPUT box initially ...
       prepFn: function(v){
           var dfmt = this.get('dateFormat') || "%D" || "%m/%d/%Y";
           return Y.DataType.Date.format(v,{format:dfmt});
       },

       // Function to call after Date editing is complete, prior to saving to DataTable ...
       //  i.e. converts back to "Date" format that DT expects ...
       saveFn: function(v){
           return Y.DataType.Date.parse(v) || undefined;
       },

       //
       // cell editor View instance event listeners ...
       //
       after: {

           //-------
           // After this View is created,
           //    create the Calendar widget ...
           //-------
           editorCreated: function(){
               var calNode = this.overlay.get('contentBox').one('.yui3-dt-editor-calendar'),
                   calWidget,

                   // Define a basic config object for Y.Calendar ...
                   calConfig = {
                       // don't define a srcNode in here, because we are creating the node ...
                       height: '215px',
                       width:  '200px',
                       showPrevMonth: true,
                       showNextMonth: true,

                       // Setup this Calendar widget instance's event listeners ...
                       after: {

                           //-------
                           // After a "selection" is made in the widget,
                           //   updates the Editor's INPUT box on a widget date selection ...
                           //-------
                           selectionChange : function(o){
                               var newDate = o.newSelection[0],
                                   editor  = this.editor, //this.get('editor'),
                                   prepFn  = editor.get('prepFn'),
                                   inpn    = editor._inputNode;
                               inpn.set('value', (prepFn) ? prepFn.call(this,newDate) : newDate );
                           },

                           //-------
                           // After a date is clicked in the widget,
                           //   save the Date
                           //-------
                           dateClick: function(o){
                               var newDate = o.date,
                                   editor  = this.editor;
                               editor.saveEditor(newDate);
                           }
                       }
                   },

                   // Pass in user options via calendarConfig
                   userCalConfig = this.get('calendarConfig') || {};

               //
               //  If the srcNode exists, and Y.Calendar library is available ... create the Widget
               //
               if(calNode &amp;&amp; Y.Calendar) {
                   // combine the base configs with user configs
                   calConfig = Y.merge(calConfig,userCalConfig);

                   calConfig.srcNode = calNode;
                   calWidget = new Y.Calendar(calConfig).render();

                   // Attach a plugin to the Widget instance, if it is available
                   if(Y.Plugin.Calendar &amp;&amp; Y.Plugin.Calendar.JumpNav) {
                       this.plug( Y.Plugin.Calendar.JumpNav, {
                           yearStart: 1988, yearEnd:   2021
                       });
                   }

               }

               //
               //  Set a property on the Calendar widget instance to trackback to this editor view,
               //  AND also attach the Widget instance to this view
               //
               calWidget.editor = this;
               this.widget = calWidget;

           },

           //-------
           // After this View is destroyed,
           //    we need to destroy the Calendar widget instance ...
           //-------
           editorDestroyed: function(){
               if(this.widget) {
                   this.widget.destroy({remove:true});
               }
           },

           //-------
           // After this View is displayed,
           //    setup the widget to display the current cell's Date value
           //-------
           editorShow: function(o){
               var val = o.value;

               // Display the widget, and select the date (if valid)
               if(this.widget) {
                   this.widget.show();

                   if(Y.Lang.isDate(val)) {
                       this.widget.set('date',val);
                       this.widget.selectDates(val);
                   }
               }

               // Update the INPUT[text] value with date and set it's focus
               this._setInputValue(val);
               o.inputNode.focus();
           },

           //-------
           // After this View is hidden,
           //    hide the Calendar widget to avoid bleed-thru
           //-------
           editorHide: function(){
               if(this.widget) {
                   this.widget.hide();
               }
           },

           //-------
           // After this View is hidden,
           //    hide the Calendar widget to avoid bleed-thru
           //-------
           editorSave: function(){
               if(this.widget) {
                   this.widget.hide();
               }
           }
       }
   };
</code></pre>

<p><strong>PLEASE NOTE:</strong> All other attributes from the <code>BaseViewClass</code> apply and can be included within the <code>editorConfig</code>
object.</p>
</div>



<div id="classdocs" class="tabview">
    <ul class="api-class-tabs">
        <li class="api-class-tab index"><a href="#index">Index</a></li>

        
        
        
        
    </ul>

    <div>
        <div id="index" class="api-class-tabpanel index">
            <h2 class="off-left">Item Index</h2>

            

            

            

            
        </div>

        

        

        

        
    </div>
</div>

                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="..&#x2F;assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="..&#x2F;assets/js/yui-prettify.js"></script>
<script src="..&#x2F;assets/../api.js"></script>
<script src="..&#x2F;assets/js/api-filter.js"></script>
<script src="..&#x2F;assets/js/api-list.js"></script>
<script src="..&#x2F;assets/js/api-search.js"></script>
<script src="..&#x2F;assets/js/apidocs.js"></script>
</body>
</html>
